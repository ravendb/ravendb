<div id="editFileContainer" tabindex="-1">
    <!-- We use a container with a tab index so that we can capture keyboard events, such as CTRL+S. -->
    
    <ul class="breadcrumb">
        <a target="_blank" data-bind="attr: { href: $root.currentHelpLink }, visible: $root.currentHelpLink" class="global_help_link"><i class="fa fa-question-circle fa-2x"></i></a>
        <li>
            <h3>
                <a href="#resources">
                    File Systems
                </a>
            </h3>
        </li>
        <li class="active">
            <span data-bind="text: fileName"></span>
        </li>
    </ul>

    <div class="btn-toolbar">
        <div class="btn-group">
            <button type="button" class="btn btn-primary" data-bind="click: saveFileMetadata, enable: isSaveEnabled" title="Save (Alt+S)" accesskey="S"><i class="fa fa-save"></i></button>
            <button type="button" class="btn btn-default" data-bind="click: refreshFile" title="Refresh (Alt+R)" accesskey="R"><i class="fa fa-refresh"></i></button>
            <button type="button" class="btn btn-default" data-bind="click: downloadFile" title="Download file (Alt+O)" accesskey="O"><i class="fa fa-download"></i></button>
            <button type="button" class="btn btn-default" data-bind="click: renameFile" title="Rename file (Alt+E)" accesskey="E"><i class="fa fa-random"></i></button>
            <button type="button" class="btn btn-danger" data-bind="click: deleteFile" title="Delete (Alt+shift+Del)"><i class="fa fa-trash-o"></i></button>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-md-7">
            <div class="row">
                <div class="col-md-12">
                    <input type="text" class="form-control" title="File name" disabled="disabled" data-bind="value: fileName" />
                </div>
            </div>
            <br />
            <ul class="nav nav-tabs">
                <li accesskey="m" title="Edit file metadata (Alt+M)">
                    <a style="cursor: pointer">File Metadata</a>
                </li>
            </ul>
            <pre id="fileMetadataEditor" class="form-control" data-bind="aceEditor: { code: fileMetadataText, fontSize:'16px', lang: 'ace/mode/json'}, attr: { disabled: isBusy }, dynamicHeight: { resizeTrigger: window.ravenStudioWindowHeight(), target: 'footer', bottomMargin: 20 }"></pre>
        </div>
        <div class="form-group panel panel-default col-md-5 document-addition-data side-panel">
            <div class="col-md-12" data-bind="with: metadata">
                <h4><strong>Metadata</strong></h4>
                <hr />
                <div class="row">
                    <div class="col-md-5">
                        <label>Etag</label>
                    </div>
                    <div class="col-md-7">
                        <span data-bind="text: etag"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label>Creation-Date</label>
                    </div>
                    <div class="col-md-7">
                        <span data-bind="text: creationDate"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label>Last-Modified</label>
                    </div>
                    <div class="col-md-7">
                        <span data-bind="text: lastModified"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label>RavenFS-Size</label>
                    </div>
                    <div class="col-md-7">
                        <span data-bind="text: ravenFSSize"></span>
                    </div>
                </div>
            </div>
            <div class="col-md-12 query-metadata" data-bind="visible:topRecentFiles().length > 0">
                <h4><strong>Recent Files</strong></h4>
                <hr />
                <div class="documents-links-container" data-bind="foreach: topRecentFiles">
                    <a class="document-link" data-bind="attr: { href: fileUrl }">
                        <span class="collection-color-strip system-documents-collection">&nbsp;</span>
                        <span data-bind="text: fileId"></span>
                    </a>
                </div>
            </div>            
        </div>
    </div>
</div>
