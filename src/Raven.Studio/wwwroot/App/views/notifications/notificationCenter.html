
<div class="studio-alerts" data-bind="with: notificationCenter.recentErrors">
    <div data-bind="with: currentAlert">
        <div class="alert alert-dismissable fade in"
             data-bind="attr: { id: id }, css: { 'alert-info': type === 0, 'alert-success': type === 1, 'alert-warning': type === 2, 'alert-danger': type === 3 || type === 4 }, event: { 'closed.bs.alert': $parent.onAlertHidden.bind($parent) }">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
                <i class="fa fa-times"></i>
            </button>
            <div class="alert-text">
                <strong data-bind="text: title, attr:{title:title}"></strong>
            </div>
            <span data-bind="visible: errorMessage, text: errorMessage"></span>
            <a class="alert alert-link" href="#" data-bind="visible: details, click: $parent.showErrorsDialog.bind($parent)">Details</a>
        </div>
    </div>
</div>

<div id="notification-center" data-bind="css: { 'show-notifications': notificationCenter.showNotifications() }, with: notificationCenter">
    
    <div data-bind="foreach: operations.watchedOperations()">
        <div data-bind="if: visible()">
            <div class="panel" data-bind="css: { 'panel-success': isSuccess(), 'panel-warning': isCancelled(), 'panel-danger': isFailure() }">
                <div class="panel-body">
                    <div data-bind="if: completed()">
                        <h3 data-bind="text: description().Description"></h3>
                        
                        <div class="text-right">
                            <a href="#" class="btn btn-sm btn-default">Details</a>
                            <a href="#" data-bind="click: $parent.dismissOperation.bind($parent, operationId, true)" class="btn btn-sm btn-danger"><span class="icon-cancel dismiss-notification"></span>Dismiss</a>
                        </div>
                    </div>
                    
                    <div data-bind="if: !completed()">
                        <h3 data-bind="text: description().Description"></h3>
                        
                        <div class="progress" data-bind="visible: !isPercentageProgress(), if: !isPercentageProgress()">
                            <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width: 70%">
                            </div>
                        </div>

                        <div class="progress" data-bind="visible: isPercentageProgress(), if: isPercentageProgress()">
                            <div class="progress-bar" role="progressbar" 
                                 data-bind="style: {  width: percentageProgress() + '%' }, attr: { 'aria-valuenow': state().Progress.Processed, 'aria-valuemax': state().Progress.Total }" aria-valuemin="0">
                                <span class="sr-only" data-bind="text: percentageProgress() + '%'"></span>
                            </div>
                        </div>
                        
                        <div class="text-right">
                            <a href="#" class="btn btn-sm btn-default">Details</a>
                            <a href="#" data-bind="visible: killable(), click: $parent.killOperation.bind($parent, operationId)" class="btn btn-sm btn-danger"><span class="icon-cancel"></span>Cancel</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div data-bind="foreach: recentErrors.recordedErrors">
        <div class="panel">
            <div class="panel-body">
                <h3 class="text-warning">
                    <span data-bind="text: title"></span>
                </h3>
                <div class="text-right">
                    <a href="#" class="btn btn-sm btn-default">Details</a>
                    <a href="#" data-bind="click: $parent.dismissRecentError.bind($parent, $data)" class="btn btn-sm btn-danger"><span class="icon-cancel dismiss-notification"></span>Dismiss</a>
                </div>
            </div>
        </div>
    </div>
    
    <div data-bind="foreach: alerts.alerts">
        <div class="panel" data-bind="css: { 'panel-info': isInfo, 'panel-warning': isWarning, 'panel-danger': isError }">
            <div class="panel-body">
                <h3 class="text-warning">
                    <span data-bind="text: message"></span>
                </h3>
                <div class="text-right">
                    <a href="#" class="btn btn-sm btn-default">Details</a>
                    <a href="#" class="btn btn-sm btn-danger"><span class="icon-cancel dismiss-notification"></span>Postpone</a>
                </div>
            </div>
        </div>
    </div>
   
</div>


